"use strict";(self.webpackChunk_binance_chain_extension_wallet=self.webpackChunk_binance_chain_extension_wallet||[]).push([[224],{7224:function(e,t,n){n.r(t),n.d(t,{JSONFile:function(){return w}});var r,a,i,l=n(70655),o=n(67294),c=n(44012),s=n(5977),u=n(96042),d=n(71893),m=n(1639),f=n(71396),p=n(35831),y=n(21050),v=n(60358),h=n(96436),b=n(3514),E=d.ZP.div.withConfig({componentId:"s5q2sd-0"})(r||(r=(0,l.cy)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),g=d.ZP.div.withConfig({componentId:"s5q2sd-1"})(a||(a=(0,l.cy)(["\n  display: flex;\n  align-items: center;\n  font-size: ",";\n  color: ",";\n  white-space: nowrap;\n\n  svg {\n    margin-right: ",";\n  }\n"],["\n  display: flex;\n  align-items: center;\n  font-size: ",";\n  color: ",";\n  white-space: nowrap;\n\n  svg {\n    margin-right: ",";\n  }\n"])),(function(e){var t=e.theme;return(0,b.em)(t.honeycomb.size.reduced)}),(function(e){return e.theme.honeycomb.color.text.masked}),(function(e){var t=e.theme;return(0,b.em)(t.honeycomb.size.tiny)})),k=d.ZP.input.withConfig({componentId:"s5q2sd-2"})(i||(i=(0,l.cy)(["\n  display: none;\n"],["\n  display: none;\n"]))),w=function(){var e=(0,m.xQ)({id:"import-account.json-file"}).buildTestId,t=(0,s.k6)().goBack,n=(0,h.k)({testId:e()}),r=(0,d.Fg)(),a=(0,o.useState)(!1),i=a[0],b=a[1],w=(0,o.useState)(null),C=w[0],z=w[1],x=(0,o.useState)(""),F=x[0],S=x[1],Z=(0,o.useCallback)((function(e){e.target.files&&z(e.target.files[0])}),[]),I=(0,o.useCallback)((function(e){return S(e.target.value)}),[]),T=(0,o.useCallback)((function(){(0,m.Yz)(o.createElement(m.FN,{icon:o.createElement(m.FN.Icon.Danger,null)},o.createElement(c.Z,{id:"import-account.json-file.import-fail-toast"}))),b(!1)}),[]),j=(0,o.useCallback)((function(){return(0,l.mG)(void 0,void 0,void 0,(function(){var e;return(0,l.Jh)(this,(function(r){return b(!0),(e=new FileReader).onload=function(e){return(0,l.mG)(void 0,void 0,void 0,(function(){var r,a,i;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),(null===(i=e.target)||void 0===i?void 0:i.result)?[4,u.w5.fromEncryptedJson(e.target.result,F)]:[2];case 1:return r=l.sent().privateKey,(a=(0,y.Ky)({privateKey:r}))?[4,n({addresses:a})]:(T(),[2]);case 2:return l.sent()?t():b(!1),[3,4];case 3:return l.sent(),T(),[3,4];case 4:return[2]}}))}))},e.readAsText(C),[2]}))}))}),[F,t,n,T,C]),_=(0,o.useMemo)((function(){return!!C&&!i&&!!F}),[F,i,C]);return o.createElement(o.Fragment,null,o.createElement(f.u.Card,{position:"top",snap:"both"},o.createElement(f.u.Content,{size:"fill",align:"start",justify:"stretch"},o.createElement(m.xv,{size:"small",alignSelf:"start"},o.createElement(c.Z,{id:"import-account.json-file.upload-file-label"})),o.createElement(m.T,{size:"micro"}),o.createElement(E,null,o.createElement(m.zx,{variant:"primary",shape:"fit",htmlTag:"label",htmlFor:"file-upload","data-testid":e("upload-file-btn")},o.createElement(c.Z,{id:"import-account.json-file.select-file-btn"})),o.createElement(k,{id:"file-upload",type:"file",onChange:Z}),o.createElement(m.T,{size:"normal"}),C&&o.createElement(g,null,o.createElement(m.JO.TickCircleSolid,{color:r.honeycomb.color.buy.normal}),o.createElement(c.Z,{id:"import-account.json-file.select-file-status.uploaded"}),o.createElement(m.T,{size:"micro"}),(0,v.j5)({value:C.name,maxCharsPerSide:6}))),C&&o.createElement(o.Fragment,null,o.createElement(m.T,{size:"increased"}),o.createElement(m.WU,{label:o.createElement(c.Z,{id:"generic.password"}),isValid:!!F,onChange:I,value:F,"data-testid":e("password"),autoComplete:"off"})),o.createElement(m.T,{size:"fill"}))),o.createElement(p.f,{variant:"accent"},o.createElement(f.u.Footer,null,o.createElement(m.zx,{variant:"primary",onClick:j,disabled:!_,"data-testid":e("import-btn")},i?o.createElement(m.gb,null):o.createElement(c.Z,{id:"import-account.import"})))))}},96436:function(e,t,n){n.d(t,{k:function(){return u}});var r=n(70655),a=n(1639),i=n(67294),l=n(44012),o=n(58527),c=n(82625);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var u=function(e){var t=e.testId,n=(0,a.xQ)({id:t}).buildTestId,u=(0,o.xe)(),d=(0,o.VV)().password,m=(0,o.Rk)();return(0,i.useCallback)((function(e){var t=e.addresses;return(0,r.mG)(void 0,void 0,void 0,(function(){var e,o,f,p;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:for(e=function(e){var r=t[e],o=r.address,c=r.type;if(u.map((function(e){return e.addresses.filter((function(e){return e.type===c})).map((function(e){return e.address}))})).flat().find((function(e){return e===o})))return(0,a.Yz)(i.createElement(a.FN,{icon:i.createElement(a.FN.Icon.Danger,null),"data-testid":n("duplicate-private-key-toast")},i.createElement(l.Z,{id:"import-account.duplicate-private-key-toast"}))),{value:null}},o=0;o<t.length;o++)if("object"===s(f=e(o)))return[2,f.value];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,m({password:d,addresses:t})];case 2:return[2,r.sent()];case 3:return p=r.sent(),c.k.error(p),(0,a.Yz)(i.createElement(a.FN,{icon:i.createElement(a.FN.Icon.Danger,null),"data-testid":n("fail-toast")},i.createElement(l.Z,{id:"import-account.import-fail-toast"}))),[2,null];case 4:return[2]}}))}))}),[u,n,m,d])}}}]);